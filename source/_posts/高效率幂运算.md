---
title: 高效率幂运算
date: 2017-08-15 16:52:24
tags: 
- 算法
categories: 
- 算法

---

> 由取幂运算得到的数一般都是相当大的，因此，我们只能在假设一台机器能够存储这样一些大整数（或有一个编译程序能够模拟它）的情况下进行我们的分析。我们将乘法的次数作为运行时间的度量。

<!-- more -->

###### 计算 $X^N$ 的明显的算法是使用 N-1 次乘法自乘。有一种递归算法效果更好。 $N\leq1$ 是这种递归的基准情形。否则，若 N 是偶数，我们有
$$ X^N = X^{N/2} * X^{N/2} $$

###### 如果 N 是奇数，则 $X^N = X^{(N-1)/2}\*X^{(N-1)/2}\*X$

###### 显然，所需要的乘法次数最多是 $2\log N$ ,因为把问题分半最多需要两次乘法（如果 N 是奇数）。这里，我们又可写一个递推公式将其解出。简单的直觉避免了盲目的强行处理。

###### 下面的代码实现了这个思路。
``` java
public static long pow(long x, int n){
    if (0 == n){
        return 1;
    }
    if (1 == n){
        return x;
    }
    if (isEven(n)){
        return pow(x*x, n/2);
    }else{
        return pow(x*x, n/2) * x;
    }
}
```
** Java提供一个 BigInteger 类，这个类可以用来处理任意大的整数。很容易把上面的代码改写成使用 BigInteger 而不用 long 。 **
