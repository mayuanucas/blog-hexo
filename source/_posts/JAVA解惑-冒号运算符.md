---
title: JAVA解惑-冒号运算符
date: 2018-10-11 09:43:59
tags: [Java]
categories: [JAVA解惑]
---

JAVA解惑-冒号运算符
<!-- more -->

## 冒号运算符

下面的程序将会打印出什么?

```java
public static void main(String[] args){
    char x = 'X';
    int i = 0;

    // 输出 X
    System.out.println(true ? x : 0);
    // 输出 88
    System.out.println(false ? i : x);
}
```

条件表达式结果类型的规则如下,核心是以下三点:

1. 如果第二个和第三个操作数具有相同的类型,那么它就是条件表达式的类型.
2. 如果一个操作数的类型是 T,T 表示 byte, short, char,而另一个操作数是一个 int 类型的常量表达式,它的值是可以用 T 表示的,那么条件表达式的类型就是 T.
3. 否则,将对操作数类型运用二进制数字提升,而条件表达式的类型就是第二个和第三个操作数被提升之后的类型.

在上面的程序中,第一个表达式中, int 操作数是常量0,而第二个表达式中的 int 操作数是变量i. 因此,第2点被应用到了第一个表达式上,它的返回类型是char,而第3点被应用到了第二个表达式上,其返回的类型是 int 和 char 运用了二进制数字提升之后的类型,即 int.


